function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){return function(){var t,n=_getPrototypeOf(e);if(_isNativeReflectConstruct()){var r=_getPrototypeOf(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{EycR:function(e,t,n){"use strict";n.r(t);var r=n("8Y7J"),i=function e(){_classCallCheck(this,e)},o=n("pMnS"),a={Move:"move",Resize:"resize",Pinch:"pinch"},s=function(){function e(t,n){_classCallCheck(this,e),this.sanitizer=t,this.cd=n,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.setImageMaxSizeRetries=0,this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.exifTransform={rotate:0,flip:!1},this.autoRotateSupported=new Promise((function(e){var t=new Image;t.onload=function(){e(1===t.width&&2===t.height)},t.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})),this.stepSize=3,this.marginLeft="0px",this.imageVisible=!1,this.moveTypes=a,this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage="center",this.disabled=!1,this.imageCropped=new r.m,this.startCropImage=new r.m,this.imageLoaded=new r.m,this.cropperReady=new r.m,this.loadImageFailed=new r.m,this.initCropper()}return _createClass(e,[{key:"ngOnChanges",value:function(e){this.onChangesInputImage(e),this.originalImage&&this.originalImage.complete&&this.exifTransform&&(e.containWithinAspectRatio||e.canvasRotation)&&this.transformOriginalImage(),e.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),e.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),e.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}},{key:"onChangesInputImage",value:function(e){(e.imageChangedEvent||e.imageURL||e.imageBase64||e.imageFile)&&this.initCropper(),e.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),e.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),e.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),e.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}},{key:"isValidImageChangedEvent",value:function(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}},{key:"setCssTransform",value:function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}},{key:"ngOnInit",value:function(){this.stepSize=this.initialStepSize,this.activatePinchGesture()}},{key:"initCropper",value:function(){this.imageVisible=!1,this.transformedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.originalSize={width:0,height:0},this.transformedSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}},{key:"loadImage",value:function(e,t){this.isValidImageType(t)?this.loadBase64Image(e):this.loadImageFailed.emit()}},{key:"loadImageFile",value:function(e){var t=this,n=new FileReader;n.onload=function(n){return t.loadImage(n.target.result,e.type)},n.readAsDataURL(e)}},{key:"isValidImageType",value:function(e){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(e)}},{key:"loadBase64Image",value:function(e){var t=this;this.autoRotateSupported.then((function(n){return t.checkExifAndLoadBase64Image(e,n)})).then((function(){return t.transformOriginalImage()})).catch((function(e){t.loadImageFailed.emit(),t.originalImage=null,t.originalBase64=null,console.error(e)}))}},{key:"checkExifAndLoadBase64Image",value:function(e,t){var n=this;return new Promise((function(r,i){n.originalImage=new Image,n.originalImage.onload=function(){n.originalBase64=e,n.exifTransform=function(e){switch("string"==typeof e&&(e=function(e){var t=new DataView(function(e){e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var t=atob(e),n=t.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.charCodeAt(i);return r.buffer}(e));if(65496!=t.getUint16(0,!1))return-2;for(var n=t.byteLength,r=2;r<n;){if(t.getUint16(r+2,!1)<=8)return-1;var i=t.getUint16(r,!1);if(r+=2,65505==i){if(1165519206!=t.getUint32(r+=2,!1))return-1;var o=18761==t.getUint16(r+=6,!1);r+=t.getUint32(r+4,o);var a=t.getUint16(r,o);r+=2;for(var s=0;s<a;s++)if(274==t.getUint16(r+12*s,o))return t.getUint16(r+12*s+8,o)}else{if(65280!=(65280&i))break;r+=t.getUint16(r,!1)}}return-1}(e)),e){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(t?-1:e),n.originalSize.width=n.originalImage.naturalWidth,n.originalSize.height=n.originalImage.naturalHeight,r()},n.originalImage.onerror=i,n.originalImage.src=e}))}},{key:"loadImageFromURL",value:function(e){var t=this,n=new Image;n.onerror=function(){return t.loadImageFailed.emit()},n.onload=function(){var e=document.createElement("canvas"),r=e.getContext("2d");e.width=n.width,e.height=n.height,r.drawImage(n,0,0),t.loadBase64Image(e.toDataURL())},n.crossOrigin="anonymous",n.src=e}},{key:"transformOriginalImage",value:function(){if(!this.originalImage||!this.originalImage.complete||!this.exifTransform)return Promise.reject(new Error("No image loaded"));var e=this.transformImageBase64();return this.setTransformedImage(e)}},{key:"transformImageBase64",value:function(){var e=this.canvasRotation+this.exifTransform.rotate;if(0===e&&!this.exifTransform.flip&&!this.containWithinAspectRatio)return this.originalBase64;var t=this.getTransformedSize(),n=document.createElement("canvas");n.width=t.width,n.height=t.height;var r=n.getContext("2d");return r.setTransform(this.exifTransform.flip?-1:1,0,0,1,n.width/2,n.height/2),r.rotate(Math.PI*(e/2)),r.drawImage(this.originalImage,-this.originalSize.width/2,-this.originalSize.height/2),n.toDataURL()}},{key:"getTransformedSize",value:function(){var e=this.canvasRotation+this.exifTransform.rotate;if(this.containWithinAspectRatio){if(e%2){var t=this.originalSize.height/this.aspectRatio;return{width:Math.max(this.originalSize.height,this.originalSize.width*this.aspectRatio),height:Math.max(this.originalSize.width,t)}}var n=this.originalSize.width/this.aspectRatio;return{width:Math.max(this.originalSize.width,this.originalSize.height*this.aspectRatio),height:Math.max(this.originalSize.height,n)}}return e%2?{height:this.originalSize.width,width:this.originalSize.height}:{width:this.originalSize.width,height:this.originalSize.height}}},{key:"setTransformedImage",value:function(e){var t=this;return new Promise((function(n){t.transformedBase64=e,t.safeImgDataUrl=t.sanitizer.bypassSecurityTrustResourceUrl(e),t.transformedImage=new Image,t.transformedImage.onload=function(){t.transformedSize.width=t.transformedImage.naturalWidth,t.transformedSize.height=t.transformedImage.naturalHeight,t.cd.markForCheck(),n()},t.transformedImage.src=t.transformedBase64}))}},{key:"imageLoadedInView",value:function(){var e=this;null!=this.transformedImage&&(this.imageLoaded.emit(),this.setImageMaxSizeRetries=0,setTimeout((function(){return e.checkImageMaxSizeRecursively()})))}},{key:"checkImageMaxSizeRecursively",value:function(){var e=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout((function(){return e.checkImageMaxSizeRecursively()}),50))}},{key:"sourceImageLoaded",value:function(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}},{key:"onResize",value:function(){this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize()}},{key:"activatePinchGesture",value:function(){if(this.Hammer){var e=new this.Hammer(this.wrapper.nativeElement);e.get("pinch").set({enable:!0}),e.on("pinchmove",this.onPinch.bind(this)),e.on("pinchend",this.pinchStop.bind(this)),e.on("pinchstart",this.startPinch.bind(this))}else Object(r.U)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}},{key:"resizeCropperPosition",value:function(){var e=this.sourceImage.nativeElement;this.maxSize.width===e.offsetWidth&&this.maxSize.height===e.offsetHeight||(this.cropper.x1=this.cropper.x1*e.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*e.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*e.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*e.offsetHeight/this.maxSize.height)}},{key:"resetCropperPosition",value:function(){var e=this.sourceImage.nativeElement;if(this.maintainAspectRatio)if(e.offsetWidth/this.aspectRatio<e.offsetHeight){this.cropper.x1=0,this.cropper.x2=e.offsetWidth;var t=e.offsetWidth/this.aspectRatio;this.cropper.y1=(e.offsetHeight-t)/2,this.cropper.y2=this.cropper.y1+t}else{this.cropper.y1=0,this.cropper.y2=e.offsetHeight;var n=e.offsetHeight*this.aspectRatio;this.cropper.x1=(e.offsetWidth-n)/2,this.cropper.x2=this.cropper.x1+n}else this.cropper.x1=0,this.cropper.x2=e.offsetWidth,this.cropper.y1=0,this.cropper.y2=e.offsetHeight;this.doAutoCrop(),this.imageVisible=!0}},{key:"keyboardAccess",value:function(e){this.changeKeyboardStepSize(e),this.keyboardMoveCropper(e)}},{key:"changeKeyboardStepSize",value:function(e){e.key>="1"&&e.key<="9"&&(this.stepSize=+e.key)}},{key:"keyboardMoveCropper",value:function(e){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(e.key)){var t=e.shiftKey?a.Resize:a.Move,n=e.altKey?this.getInvertedPositionForKey(e.key):this.getPositionForKey(e.key),r=this.getEventForKey(e.key,this.stepSize);e.preventDefault(),e.stopPropagation(),this.startMove({clientX:0,clientY:0},t,n),this.moveImg(r),this.moveStop()}}},{key:"getPositionForKey",value:function(e){switch(e){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}},{key:"getInvertedPositionForKey",value:function(e){switch(e){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}},{key:"getEventForKey",value:function(e,t){switch(e){case"ArrowUp":return{clientX:0,clientY:-1*t};case"ArrowRight":return{clientX:t,clientY:0};case"ArrowDown":return{clientX:0,clientY:t};case"ArrowLeft":default:return{clientX:-1*t,clientY:0}}}},{key:"startMove",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.moveStart&&this.moveStart.active&&this.moveStart.type===a.Pinch||(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:t,position:n,clientX:this.getClientX(e),clientY:this.getClientY(e)},this.cropper))}},{key:"startPinch",value:function(e){this.safeImgDataUrl&&(e.preventDefault&&e.preventDefault(),this.moveStart=Object.assign({active:!0,type:a.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}},{key:"moveImg",value:function(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===a.Move?(this.move(e),this.checkCropperPosition(!0)):this.moveStart.type===a.Resize&&(this.resize(e),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"onPinch",value:function(e){this.moveStart.active&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this.moveStart.type===a.Pinch&&(this.resize(e),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"setMaxSize",value:function(){if(this.sourceImage){var e=this.sourceImage.nativeElement;this.maxSize.width=e.offsetWidth,this.maxSize.height=e.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}},{key:"setCropperScaledMinSize",value:function(){this.transformedImage?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)}},{key:"setCropperScaledMinWidth",value:function(){this.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.transformedImage.width*this.maxSize.width):20}},{key:"setCropperScaledMinHeight",value:function(){this.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.transformedImage.height*this.maxSize.height):20}},{key:"checkCropperPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cropper.x1<0&&(this.cropper.x2-=e?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=e?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=e?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=e?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}},{key:"moveStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"pinchStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"move",value:function(e){var t=this.getClientX(e)-this.moveStart.clientX,n=this.getClientY(e)-this.moveStart.clientY;this.cropper.x1=this.moveStart.x1+t,this.cropper.y1=this.moveStart.y1+n,this.cropper.x2=this.moveStart.x2+t,this.cropper.y2=this.moveStart.y2+n}},{key:"resize",value:function(e){var t=this.getClientX(e)-this.moveStart.clientX,n=this.getClientY(e)-this.moveStart.clientY;switch(this.moveStart.position){case"left":this.cropper.x1=Math.min(this.moveStart.x1+t,this.cropper.x2-this.cropperScaledMinWidth);break;case"topleft":this.cropper.x1=Math.min(this.moveStart.x1+t,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+n,this.cropper.y2-this.cropperScaledMinHeight);break;case"top":this.cropper.y1=Math.min(this.moveStart.y1+n,this.cropper.y2-this.cropperScaledMinHeight);break;case"topright":this.cropper.x2=Math.max(this.moveStart.x2+t,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+n,this.cropper.y2-this.cropperScaledMinHeight);break;case"right":this.cropper.x2=Math.max(this.moveStart.x2+t,this.cropper.x1+this.cropperScaledMinWidth);break;case"bottomright":this.cropper.x2=Math.max(this.moveStart.x2+t,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+n,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottom":this.cropper.y2=Math.max(this.moveStart.y2+n,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottomleft":this.cropper.x1=Math.min(this.moveStart.x1+t,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+n,this.cropper.y1+this.cropperScaledMinHeight);break;case"center":var r=e.scale,i=Math.abs(this.moveStart.x2-this.moveStart.x1)*r,o=Math.abs(this.moveStart.y2-this.moveStart.y1)*r,a=this.cropper.x1,s=this.cropper.y1;this.cropper.x1=Math.min(this.moveStart.clientX-i/2,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.clientY-o/2,this.cropper.y2-this.cropperScaledMinHeight),this.cropper.x2=Math.max(this.moveStart.clientX+i/2,a+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.clientY+o/2,s+this.cropperScaledMinHeight)}this.maintainAspectRatio&&this.checkAspectRatio()}},{key:"checkAspectRatio",value:function(){var e=0,t=0;switch(this.moveStart.position){case"top":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,e=Math.max(this.cropper.x2-this.maxSize.width,0),t=Math.max(0-this.cropper.y1,0),(e>0||t>0)&&(this.cropper.x2-=t*this.aspectRatio>e?t*this.aspectRatio:e,this.cropper.y1+=t*this.aspectRatio>e?t:e/this.aspectRatio);break;case"bottom":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,e=Math.max(this.cropper.x2-this.maxSize.width,0),t=Math.max(this.cropper.y2-this.maxSize.height,0),(e>0||t>0)&&(this.cropper.x2-=t*this.aspectRatio>e?t*this.aspectRatio:e,this.cropper.y2-=t*this.aspectRatio>e?t:e/this.aspectRatio);break;case"topleft":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,e=Math.max(0-this.cropper.x1,0),t=Math.max(0-this.cropper.y1,0),(e>0||t>0)&&(this.cropper.x1+=t*this.aspectRatio>e?t*this.aspectRatio:e,this.cropper.y1+=t*this.aspectRatio>e?t:e/this.aspectRatio);break;case"topright":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,e=Math.max(this.cropper.x2-this.maxSize.width,0),t=Math.max(0-this.cropper.y1,0),(e>0||t>0)&&(this.cropper.x2-=t*this.aspectRatio>e?t*this.aspectRatio:e,this.cropper.y1+=t*this.aspectRatio>e?t:e/this.aspectRatio);break;case"right":case"bottomright":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,e=Math.max(this.cropper.x2-this.maxSize.width,0),t=Math.max(this.cropper.y2-this.maxSize.height,0),(e>0||t>0)&&(this.cropper.x2-=t*this.aspectRatio>e?t*this.aspectRatio:e,this.cropper.y2-=t*this.aspectRatio>e?t:e/this.aspectRatio);break;case"left":case"bottomleft":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,e=Math.max(0-this.cropper.x1,0),t=Math.max(this.cropper.y2-this.maxSize.height,0),(e>0||t>0)&&(this.cropper.x1+=t*this.aspectRatio>e?t*this.aspectRatio:e,this.cropper.y2-=t*this.aspectRatio>e?t:e/this.aspectRatio);break;case"center":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio;var n=Math.max(0-this.cropper.x1,0),r=Math.max(this.cropper.x2-this.maxSize.width,0),i=Math.max(this.cropper.y2-this.maxSize.height,0),o=Math.max(0-this.cropper.y1,0);(n>0||r>0||i>0||o>0)&&(this.cropper.x1+=i*this.aspectRatio>n?i*this.aspectRatio:n,this.cropper.x2-=o*this.aspectRatio>r?o*this.aspectRatio:r,this.cropper.y1+=o*this.aspectRatio>r?o:r/this.aspectRatio,this.cropper.y2-=i*this.aspectRatio>n?i:n/this.aspectRatio)}}},{key:"doAutoCrop",value:function(){this.autoCrop&&this.crop()}},{key:"crop",value:function(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.transformedImage){this.startCropImage.emit();var e=this.getImagePosition(),t=e.x2-e.x1,n=e.y2-e.y1,r=document.createElement("canvas");r.width=t,r.height=n;var i=r.getContext("2d");if(i){null!=this.backgroundColor&&(i.fillStyle=this.backgroundColor,i.fillRect(0,0,t,n));var o=(this.transform.scale||1)*(this.transform.flipH?-1:1),a=(this.transform.scale||1)*(this.transform.flipV?-1:1);i.setTransform(o,0,0,a,this.transformedSize.width/2,this.transformedSize.height/2),i.translate(-e.x1/o,-e.y1/a),i.rotate((this.transform.rotate||0)*Math.PI/180),i.drawImage(this.transformedImage,-this.transformedSize.width/2,-this.transformedSize.height/2);var s={width:t,height:n,imagePosition:e,cropperPosition:Object.assign({},this.cropper)};this.containWithinAspectRatio&&(s.offsetImagePosition=this.getOffsetImagePosition());var l=this.getResizeRatio(t,n);return 1!==l&&(s.width=Math.round(t*l),s.height=this.maintainAspectRatio?Math.round(s.width/this.aspectRatio):Math.round(n*l),function(e,t,n){var r=e.width,i=e.height,o=r/(t=Math.round(t)),a=i/(n=Math.round(n)),s=Math.ceil(o/2),l=Math.ceil(a/2),u=e.getContext("2d");if(u){for(var c=u.getImageData(0,0,r,i),h=u.createImageData(t,n),p=c.data,f=h.data,d=0;d<n;d++)for(var g=0;g<t;g++){var m=4*(g+d*t),v=d*a,b=0,_=0,y=0,w=0,C=0,x=0,k=0,O=Math.floor(g*o),S=Math.floor(d*a),A=Math.ceil((g+1)*o),P=Math.ceil((d+1)*a);A=Math.min(A,r),P=Math.min(P,i);for(var M=S;M<P;M++)for(var R=Math.abs(v-M)/l,E=g*o,I=R*R,T=O;T<A;T++){var z=Math.abs(E-T)/s,U=Math.sqrt(I+z*z);if(!(U>=1)){var q=4*(T+M*r);k+=(b=2*U*U*U-3*U*U+1)*p[q+3],y+=b,p[q+3]<255&&(b=b*p[q+3]/250),w+=b*p[q],C+=b*p[q+1],x+=b*p[q+2],_+=b}}f[m]=w/_,f[m+1]=C/_,f[m+2]=x/_,f[m+3]=k/y}e.width=t,e.height=n,u.putImageData(h,0,0)}}(r,s.width,s.height)),s.base64=this.cropToBase64(r),this.imageCropped.emit(s),s}}return null}},{key:"getImagePosition",value:function(){var e=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth,t={x1:Math.round(this.cropper.x1*e),y1:Math.round(this.cropper.y1*e),x2:Math.round(this.cropper.x2*e),y2:Math.round(this.cropper.y2*e)};return this.containWithinAspectRatio||(t.x1=Math.max(t.x1,0),t.y1=Math.max(t.y1,0),t.x2=Math.min(t.x2,this.transformedSize.width),t.y2=Math.min(t.y2,this.transformedSize.height)),t}},{key:"getOffsetImagePosition",value:function(){var e,t,n=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth;(this.canvasRotation+this.exifTransform.rotate)%2?(e=(this.transformedSize.width-this.originalSize.height)/2,t=(this.transformedSize.height-this.originalSize.width)/2):(e=(this.transformedSize.width-this.originalSize.width)/2,t=(this.transformedSize.height-this.originalSize.height)/2);var r={x1:Math.round(this.cropper.x1*n)-e,y1:Math.round(this.cropper.y1*n)-t,x2:Math.round(this.cropper.x2*n)-e,y2:Math.round(this.cropper.y2*n)-t};return this.containWithinAspectRatio||(r.x1=Math.max(r.x1,0),r.y1=Math.max(r.y1,0),r.x2=Math.min(r.x2,this.transformedSize.width),r.y2=Math.min(r.y2,this.transformedSize.height)),r}},{key:"cropToBase64",value:function(e){return e.toDataURL("image/"+this.format,this.getQuality())}},{key:"getQuality",value:function(){return Math.min(1,Math.max(0,this.imageQuality/100))}},{key:"getResizeRatio",value:function(e,t){if(this.resizeToWidth>0){if(!this.onlyScaleDown||e>this.resizeToWidth)return this.resizeToWidth/e}else if(this.resizeToHeight>0&&(!this.onlyScaleDown||t>this.resizeToHeight))return this.resizeToHeight/t;return 1}},{key:"getClientX",value:function(e){return(e.touches&&e.touches[0]?e.touches[0].clientX:e.clientX)||0}},{key:"getClientY",value:function(e){return(e.touches&&e.touches[0]?e.touches[0].clientY:e.clientY)||0}}]),e}(),l=function e(){_classCallCheck(this,e)},u=n("SVse"),c=n("cUpR"),h=r.ob({encapsulation:0,styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],data:{}});function p(e){return r.Ib(0,[(e()(),r.qb(0,0,[[2,0],["sourceImage",1]],null,0,"img",[["class","source-image"]],[[8,"src",4],[4,"visibility",null],[4,"transform",null]],[[null,"load"]],(function(e,t,n){var r=!0;return"load"===t&&(r=!1!==e.component.imageLoadedInView()&&r),r}),null,null))],null,(function(e,t){var n=t.component;e(t,0,0,n.safeImgDataUrl,n.imageVisible?"visible":"hidden",n.safeTransformStyle)}))}function f(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,20,null,null,null,null,null,null,null)),(e()(),r.qb(1,0,null,null,1,"span",[["class","resize topleft"]],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,t,n){var r=!0,i=e.component;return"mousedown"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"topleft")&&r),"touchstart"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"topleft")&&r),r}),null,null)),(e()(),r.qb(2,0,null,null,0,"span",[["class","square"]],null,null,null,null,null)),(e()(),r.qb(3,0,null,null,1,"span",[["class","resize top"]],null,null,null,null,null)),(e()(),r.qb(4,0,null,null,0,"span",[["class","square"]],null,null,null,null,null)),(e()(),r.qb(5,0,null,null,1,"span",[["class","resize topright"]],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,t,n){var r=!0,i=e.component;return"mousedown"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"topright")&&r),"touchstart"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"topright")&&r),r}),null,null)),(e()(),r.qb(6,0,null,null,0,"span",[["class","square"]],null,null,null,null,null)),(e()(),r.qb(7,0,null,null,1,"span",[["class","resize right"]],null,null,null,null,null)),(e()(),r.qb(8,0,null,null,0,"span",[["class","square"]],null,null,null,null,null)),(e()(),r.qb(9,0,null,null,1,"span",[["class","resize bottomright"]],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,t,n){var r=!0,i=e.component;return"mousedown"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"bottomright")&&r),"touchstart"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"bottomright")&&r),r}),null,null)),(e()(),r.qb(10,0,null,null,0,"span",[["class","square"]],null,null,null,null,null)),(e()(),r.qb(11,0,null,null,1,"span",[["class","resize bottom"]],null,null,null,null,null)),(e()(),r.qb(12,0,null,null,0,"span",[["class","square"]],null,null,null,null,null)),(e()(),r.qb(13,0,null,null,1,"span",[["class","resize bottomleft"]],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,t,n){var r=!0,i=e.component;return"mousedown"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"bottomleft")&&r),"touchstart"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"bottomleft")&&r),r}),null,null)),(e()(),r.qb(14,0,null,null,0,"span",[["class","square"]],null,null,null,null,null)),(e()(),r.qb(15,0,null,null,1,"span",[["class","resize left"]],null,null,null,null,null)),(e()(),r.qb(16,0,null,null,0,"span",[["class","square"]],null,null,null,null,null)),(e()(),r.qb(17,0,null,null,0,"span",[["class","resize-bar top"]],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,t,n){var r=!0,i=e.component;return"mousedown"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"top")&&r),"touchstart"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"top")&&r),r}),null,null)),(e()(),r.qb(18,0,null,null,0,"span",[["class","resize-bar right"]],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,t,n){var r=!0,i=e.component;return"mousedown"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"right")&&r),"touchstart"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"right")&&r),r}),null,null)),(e()(),r.qb(19,0,null,null,0,"span",[["class","resize-bar bottom"]],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,t,n){var r=!0,i=e.component;return"mousedown"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"bottom")&&r),"touchstart"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"bottom")&&r),r}),null,null)),(e()(),r.qb(20,0,null,null,0,"span",[["class","resize-bar left"]],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,t,n){var r=!0,i=e.component;return"mousedown"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"left")&&r),"touchstart"===t&&(r=!1!==i.startMove(n,i.moveTypes.Resize,"left")&&r),r}),null,null))],null,null)}function d(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,3,"div",[["class","cropper"],["tabindex","0"]],[[2,"rounded",null],[4,"top","px"],[4,"left","px"],[4,"width","px"],[4,"height","px"],[4,"margin-left",null],[4,"visibility",null]],[[null,"keydown"]],(function(e,t,n){var r=!0;return"keydown"===t&&(r=!1!==e.component.keyboardAccess(n)&&r),r}),null,null)),(e()(),r.qb(1,0,null,null,0,"div",[["class","move"]],null,[[null,"mousedown"],[null,"touchstart"]],(function(e,t,n){var r=!0,i=e.component;return"mousedown"===t&&(r=!1!==i.startMove(n,i.moveTypes.Move)&&r),"touchstart"===t&&(r=!1!==i.startMove(n,i.moveTypes.Move)&&r),r}),null,null)),(e()(),r.fb(16777216,null,null,1,null,f)),r.pb(3,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,3,0,!t.component.hideResizeSquares)}),(function(e,t){var n=t.component;e(t,0,0,n.roundCropper,n.cropper.y1,n.cropper.x1,n.cropper.x2-n.cropper.x1,n.cropper.y2-n.cropper.y1,"center"===n.alignImage?n.marginLeft:null,n.imageVisible?"visible":"hidden")}))}function g(e){return r.Ib(2,[r.Fb(402653184,1,{wrapper:0}),r.Fb(671088640,2,{sourceImage:0}),(e()(),r.qb(2,0,[[1,0],["wrapper",1]],null,5,"div",[],[[4,"background",null]],null,null,null,null)),(e()(),r.fb(16777216,null,null,1,null,p)),r.pb(4,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.qb(5,0,null,null,0,"div",[["class","overlay"]],[[4,"width","px"],[4,"height","px"],[4,"margin-left",null]],null,null,null,null)),(e()(),r.fb(16777216,null,null,1,null,d)),r.pb(7,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,4,0,n.safeImgDataUrl),e(t,7,0,n.imageVisible)}),(function(e,t){var n=t.component;e(t,2,0,n.imageVisible&&n.backgroundColor),e(t,5,0,n.maxSize.width,n.maxSize.height,"center"===n.alignImage?n.marginLeft:null)}))}var m=n("nYR2"),v=function(){function e(t,n,r){_classCallCheck(this,e),this._userService=t,this.afStorage=n,this._chatService=r,this.imgSrc="../../../assets/images/defaultProfile.png",this.imgSelected=!1,this.globalUser=!1,this.showUploading=!1,this.imageChangedEvent="",this.croppedImage=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.user=this._userService.getProfileUser();var e=JSON.parse(localStorage.getItem("LoggedInUser"))._id;this.user._id==e&&(this.globalUser=!0),this.croppedImage=this.user.profilePicUrl}},{key:"close",value:function(){this._userService.showDialog.emit(!1)}},{key:"fileChangeEvent",value:function(e){this.imageChangedEvent=e,this.imgSelected=!0}},{key:"imageCropped",value:function(e){this.croppedImage=e.base64}},{key:"uploadfile",value:function(){var e=this;this.showUploading=!0;for(var t=this.croppedImage.split(/,(.+)/)[1],n=atob(t),r=n.length,i=new Uint8Array(r);r--;)i[r]=n.charCodeAt(r);var o=new File([i],this.user._id,{type:"image/png"}),a="/chat-app-profile-pics/"+this.user._id,s=this.afStorage.ref(a);this.afStorage.upload(a,o).snapshotChanges().pipe(Object(m.a)((function(){s.getDownloadURL().subscribe((function(t){e._userService.updateProfilePic(e.user._id,{url:t}).subscribe((function(n){e.user.profilePicUrl=t,e._userService.setUser(e.user),e.showUploading=!1,e.close()}),(function(t){console.log(t),e.showUploading=!1}))}),(function(t){console.log(t),e.showUploading=!1}))}))).subscribe((function(t){console.log(t),e.showUploading=!1}))}}]),e}(),b=n("Ouoq"),_=n("HDdC"),y=n("lJxs");function w(e){var t=function(e){return new _.a((function(t){return e.on("state_changed",(function(e){return t.next(e)}),(function(e){return t.error(e)}),(function(){return t.complete()})),function(){return e.cancel()}}))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:function(){return t},percentageChanges:function(){return t.pipe(Object(y.a)((function(e){return e.bytesTransferred/e.totalBytes*100})))}}}var C=n("Cfvw");function x(e,t,n){return{getDownloadURL:function(){return Object(C.a)(e.getDownloadURL(),t.outsideAngular).pipe(n)},getMetadata:function(){return Object(C.a)(e.getMetadata()).pipe(n)},delete:function(){return Object(C.a)(e.delete())},child:function(r){return x(e.child(r),t,n)},updateMetatdata:function(t){return Object(C.a)(e.updateMetadata(t))},updateMetadata:function(t){return Object(C.a)(e.updateMetadata(t))},put:function(t,n){return w(e.put(t,n))},putString:function(t,n,r){return w(e.putString(t,n,r))}}}var k,O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a)),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(O),A=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A.now;return _classCallCheck(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(A),M=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(P))(S),R=new P(O),E=n("vkgz"),I=1,T={},z=function(e){var t=I++;return T[t]=e,Promise.resolve().then((function(){return function(e){var t=T[e];t&&t()}(t)})),t},U=function(e){delete T[e]},q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,r):(e.actions.push(this),e.scheduled||(e.scheduled=z(e.flush.bind(e,null))))}},{key:"recycleAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,r);0===e.actions.length&&(U(t),e.scheduled=void 0)}}]),n}(O),B=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(P))(q),N=n("DH7j"),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.delayTime=o,r.scheduler=a,i=o,(Object(N.a)(i)||!(i-parseFloat(i)+1>=0)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=B),r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:e})}}],[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:B;return new n(e,t,r)}},{key:"dispatch",value:function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))}}]),n}(_.a),j=function(){function e(t,n){_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return new L(t,this.delay,this.scheduler).subscribe(e)}}]),e}(),D=n("7o/Q"),F=n("EY2u"),W=n("LRne"),H=((k=function(){function e(t,n,r){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(W.a)(this.value);case"E":return e=this.error,new _.a((function(t){return t.error(e)}));case"C":return Object(F.b)()}var e;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new k("C"),k.undefinedValueNotification=new k("N",void 0),k),V=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.scheduler=t,this.delay=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Q(e,this.scheduler,this.delay))}}]),e}(),Q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=t.call(this,e)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new G(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(H.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(H.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(H.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(D.a),G=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n};function X(){}var Y,J=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;_classCallCheck(this,e),this.zone=t,this.delegate=n}return _createClass(e,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(e,t,n){var r=this.zone;return this.delegate.schedule((function(t){var n=this;r.runGuarded((function(){e.apply(n,[t])}))}),t,n)}}]),e}(),K=function(){function e(t){_classCallCheck(this,e),this.zone=t,this.task=null}return _createClass(e,[{key:"call",value:function(e,t){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",X,{},X,X)})),t.pipe(Object(E.a)(n,n,n)).subscribe(e).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),e}(),$=function e(t){_classCallCheck(this,e),this.ngZone=t,this.outsideAngular=t.runOutsideAngular((function(){return new J(Zone.current)})),this.insideAngular=t.run((function(){return new J(Zone.current,R)}))},Z=n("Wcq6"),ee=n.n(Z),te=new r.o("angularfire2.app.options"),ne=new r.o("angularfire2.app.nameOrConfig"),re=te,ie=ne,oe=function e(){_classCallCheck(this,e)},ae=new r.M("5.4.2");function se(e,t,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",ee.a.apps.filter((function(e){return e&&e.name===r.name}))[0]||t.runOutsideAngular((function(){return ee.a.initializeApp(e,r)}))}var le=Y=function(){function e(t){_classCallCheck(this,e),ee.a.registerVersion&&(ee.a.registerVersion("angularfire",ae.full,t.toString()),ee.a.registerVersion("angular",r.L.full))}return _createClass(e,null,[{key:"initializeApp",value:function(e,t){return{ngModule:Y,providers:[{provide:re,useValue:e},{provide:ie,useValue:t}]}}}]),e}(),ue=new r.o("angularfire2.storageBucket"),ce=function(){function e(t,n,r,i,o){_classCallCheck(this,e),this.schedulers=new $(o),this.keepUnstableUntilFirst=function(e,t){return function(n){return Object(u.p)(t)&&(n=n.lift(new K(e.ngZone))),n.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new j(e,t))}}(e.outsideAngular),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new V(e,t))}}(e.insideAngular))}}(this.schedulers,i),this.storage=o.runOutsideAngular((function(){return se(t,o,n).storage(r||void 0)}))}return _createClass(e,[{key:"ref",value:function(e){return x(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)}},{key:"upload",value:function(e,t,n){return x(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(t,n)}}]),e}(),he=n("jHPu"),pe=r.ob({encapsulation:0,styles:[[".profilecontent[_ngcontent-%COMP%]{margin:0;padding:3rem 2rem;width:20rem;height:30rem;background-color:#20242f!important;border-radius:5px;color:#fff;text-align:center;position:relative;transform:scale(0);-webkit-animation:.3s forwards showDialog;animation:.3s forwards showDialog}.profilecontent[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;height:1.2rem;width:1.2rem}.profilecontent[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}.profilecontent[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:1rem;font-size:1.3rem;font-weight:700}.imguploader[_ngcontent-%COMP%]{padding:1rem}.imguploader[_ngcontent-%COMP%]:hover{cursor:pointer}.profilecontent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:8rem;width:8rem;border-radius:50%;margin-bottom:.5rem}.profilecontent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.3rem 3rem;font-size:.9rem;text-align:center;border:none;margin:.5rem 0;border-radius:20px;color:#fff;background-image:linear-gradient(to right bottom,#f54b64,#f75b61,#f76960,#f77660,#f78361)}.profilecontent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{outline:0}.details[_ngcontent-%COMP%]{padding-top:1rem}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:.5rem 0}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem;font-weight:100}.details[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:rgba(255,255,255,.3)}@-webkit-keyframes showDialog{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes showDialog{0%{transform:scale(0)}100%{transform:scale(1)}}.img-cropper[_ngcontent-%COMP%]{padding:1px;height:100%;max-height:10rem}.show-uploading[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%;top:0;left:0;display:flex;align-items:center;justify-content:center;background-color:rgba(0,0,0,.7);z-index:999}"]],data:{}});function fe(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,3,"div",[["class","show-uploading"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,2,"div",[["class","spinner-border text-light"],["role","status"]],null,null,null,null,null)),(e()(),r.qb(2,0,null,null,1,"span",[["class","sr-only"]],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Loading..."]))],null,null)}function de(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Edit Profile"]))],null,null)}function ge(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Profile"]))],null,null)}function me(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"image-cropper",[["class","img-cropper"]],[[4,"text-align",null],[2,"disabled",null]],[[null,"imageCropped"],["window","resize"],["document","mousemove"],["document","touchmove"],["document","mouseup"],["document","touchend"]],(function(e,t,n){var i=!0,o=e.component;return"window:resize"===t&&(i=!1!==r.Bb(e,1).onResize()&&i),"document:mousemove"===t&&(i=!1!==r.Bb(e,1).moveImg(n)&&i),"document:touchmove"===t&&(i=!1!==r.Bb(e,1).moveImg(n)&&i),"document:mouseup"===t&&(i=!1!==r.Bb(e,1).moveStop()&&i),"document:touchend"===t&&(i=!1!==r.Bb(e,1).moveStop()&&i),"imageCropped"===t&&(i=!1!==o.imageCropped(n)&&i),i}),g,h)),r.pb(1,638976,null,0,s,[c.b,r.h],{imageChangedEvent:[0,"imageChangedEvent"],resizeToWidth:[1,"resizeToWidth"]},{imageCropped:"imageCropped"})],(function(e,t){e(t,1,0,t.component.imageChangedEvent,200)}),(function(e,t){e(t,0,0,r.Bb(t,1).alignImage,r.Bb(t,1).disabled)}))}function ve(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"button",[["class","btn"],["type","submit"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.uploadfile()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["Upload"]))],null,null)}function be(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,10,"div",[["class","details"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,4,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.qb(2,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["User Name"])),(e()(),r.qb(4,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),r.Hb(5,null,["",""])),(e()(),r.qb(6,0,null,null,4,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.qb(7,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Email"])),(e()(),r.qb(9,0,null,null,1,"h5",[],null,null,null,null,null)),(e()(),r.Hb(10,null,["",""]))],null,(function(e,t){var n=t.component;e(t,5,0,n.user.username),e(t,10,0,n.user.email)}))}function _e(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,16,"div",[["class","profilecontent"]],null,null,null,null,null)),(e()(),r.fb(16777216,null,null,1,null,fe)),r.pb(2,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.qb(3,0,null,null,0,"img",[["alt",""],["class","back-btn"],["src","../../../assets/images/cross.png"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.close()&&r),r}),null,null)),(e()(),r.fb(16777216,null,null,1,null,de)),r.pb(5,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.fb(16777216,null,null,1,null,ge)),r.pb(7,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.qb(8,0,null,null,6,"div",[["class","imguploader"]],null,null,null,null,null)),(e()(),r.qb(9,0,null,null,0,"img",[],[[8,"src",4]],[[null,"click"]],(function(e,t,n){var i=!0;return"click"===t&&(i=!1!==r.Bb(e,10).click()&&i),i}),null,null)),(e()(),r.qb(10,0,[["fileuploder",1]],null,0,"input",[["hidden",""],["type","file"]],null,[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.fileChangeEvent(n)&&r),r}),null,null)),(e()(),r.fb(16777216,null,null,1,null,me)),r.pb(12,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.fb(16777216,null,null,1,null,ve)),r.pb(14,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.fb(16777216,null,null,1,null,be)),r.pb(16,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showUploading),e(t,5,0,n.globalUser),e(t,7,0,!n.globalUser),e(t,12,0,n.imgSelected),e(t,14,0,n.globalUser&&n.imgSelected),e(t,16,0,!n.imgSelected)}),(function(e,t){e(t,9,0,t.component.croppedImage)}))}var ye=r.mb("app-profile",v,(function(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"app-profile",[],null,null,null,_e,pe)),r.pb(1,114688,null,0,v,[b.a,ce,he.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),we=n("xdPU"),Ce=n("wfUc"),xe=n("z5bb"),ke=n("iInd"),Oe=function(){function e(t,n,r,i){_classCallCheck(this,e),this._route=t,this._socket=n,this._userService=r,this._chatService=i,this.tabs=[!0,!1,!1],this.showMenu=!1,this.showProfileDialog=!1,this.showChatroom=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.user=this._userService.getUser(),window.innerWidth<576&&(this.showChatroom=!1),this._userService.showDialog.subscribe((function(t){e.showProfileDialog=t}))}},{key:"openProfileDailog",value:function(){this._userService.setProfileUser(this.user),this.showProfileDialog=!0}},{key:"logOut",value:function(){this._userService.setUser(null),this._chatService.setChatUser({_id:"",username:"",email:"",password:"",profilePicUrl:"",friends:null,requests:null}),this._socket.disconnect(this.user._id),this._route.navigate(["/"])}}]),e}(),Se=r.ob({encapsulation:0,styles:[[".container-fluid[_ngcontent-%COMP%]{height:100vh;width:100%;padding:0;margin:0}.row[_ngcontent-%COMP%]{padding:0;margin:0;height:100vh}.col[_ngcontent-%COMP%]{padding:0;height:100vh;color:#fff}.navtabs[_ngcontent-%COMP%]{height:4rem;padding-top:.5rem;width:100%;color:#fff;background-color:#4e586e;display:flex;align-items:center;justify-content:space-evenly}.navtabs[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]{height:100%;width:100%;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-direction:column;border-bottom:2px solid #4e586e}.navtabs[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]:focus{outline:0}.navtabs[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.7rem;margin:.2rem 0 0}.navtabs[_ngcontent-%COMP%]   .tabs.isActive[_ngcontent-%COMP%]{border-bottom:2px solid #fff}.navtabs[_ngcontent-%COMP%]   .tabs[_ngcontent-%COMP%]   .img-logo[_ngcontent-%COMP%]{height:1.2rem}.navtabs[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:.5rem 1rem;cursor:pointer}.menu[_ngcontent-%COMP%]{height:100%;position:relative;display:flex;align-items:center}.menu[_ngcontent-%COMP%]:hover{cursor:pointer}.dropdown-btn[_ngcontent-%COMP%]{height:1.8rem;padding:0 1rem}.menu-list[_ngcontent-%COMP%]{position:absolute;top:100%;right:1rem;padding:1rem 0;color:#242a38;background-color:#fff;border-radius:5px;box-shadow:0 0 15px rgba(0,0,0,.8);transform:scale(0);transform-origin:right top;-webkit-animation:.3s forwards menu;animation:.3s forwards menu;z-index:10}.menu-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0}.menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:.5rem 1.5rem}.menu-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(0,0,0,.1)}@-webkit-keyframes menu{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes menu{0%{transform:scale(0)}100%{transform:scale(1)}}.show-area[_ngcontent-%COMP%]{height:calc(100vh - 4rem);width:100%}.profile[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:rgba(0,0,0,.7);z-index:90}.contact-chatroom[_ngcontent-%COMP%]{background-color:#242a38}@media screen and (max-width:575px){.contact-chatroom[_ngcontent-%COMP%]{display:none}}"]],data:{}});function Ae(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,2,"div",[["class","profile"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,1,"app-profile",[],null,null,null,_e,pe)),r.pb(2,114688,null,0,v,[b.a,ce,he.a],null,null)],(function(e,t){e(t,2,0)}),null)}function Pe(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,5,"div",[["class","menu-list"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,4,"ul",[],null,null,null,null,null)),(e()(),r.qb(2,0,null,null,1,"li",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openProfileDailog()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["Profile"])),(e()(),r.qb(4,0,null,null,1,"li",[],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.logOut()&&r),r}),null,null)),(e()(),r.Hb(-1,null,["Logout"]))],null,null)}function Me(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,2,"div",[["class","col contact-chatroom"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,1,"app-chatroom",[],null,null,null,we.c,we.b)),r.pb(2,114688,null,0,Ce.a,[b.a,he.a,xe.a],null,null)],(function(e,t){e(t,2,0)}),null)}function Re(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,41,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),r.fb(16777216,null,null,1,null,Ae)),r.pb(2,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.qb(3,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(e()(),r.qb(4,0,null,null,35,"div",[["class","col col-12 col-sm-5 col-md-5 col-lg-4"]],null,null,null,null,null)),(e()(),r.qb(5,0,null,null,31,"div",[["class","navtabs"]],null,null,null,null,null)),(e()(),r.qb(6,0,null,null,8,"div",[["class","tabs"]],null,[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,10).onClick()&&i),"click"===t&&(o.tabs[0]=!0,o.tabs[1]=!1,i=0!=(o.tabs[2]=!1)&&i),i}),null,null)),r.Eb(512,null,u.q,u.r,[r.q,r.r,r.k,r.B]),r.pb(8,278528,null,0,u.h,[u.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Db(9,{isActive:0}),r.pb(10,16384,null,0,ke.l,[ke.k,ke.a,[8,null],r.B,r.k],{routerLink:[0,"routerLink"]},null),r.Cb(11,1),(e()(),r.qb(12,0,null,null,0,"img",[["alt",""],["class","img-logo"],["src","../../assets/images/friends-logo.png"]],null,null,null,null,null)),(e()(),r.qb(13,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Friends"])),(e()(),r.qb(15,0,null,null,8,"div",[["class","tabs"]],null,[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,19).onClick()&&i),"click"===t&&(o.tabs[0]=!1,o.tabs[1]=!0,i=0!=(o.tabs[2]=!1)&&i),i}),null,null)),r.Eb(512,null,u.q,u.r,[r.q,r.r,r.k,r.B]),r.pb(17,278528,null,0,u.h,[u.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Db(18,{isActive:0}),r.pb(19,16384,null,0,ke.l,[ke.k,ke.a,[8,null],r.B,r.k],{routerLink:[0,"routerLink"]},null),r.Cb(20,1),(e()(),r.qb(21,0,null,null,0,"img",[["alt",""],["class","img-logo"],["src","../../assets/images/search-logo.png"]],null,null,null,null,null)),(e()(),r.qb(22,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Search"])),(e()(),r.qb(24,0,null,null,8,"div",[["class","tabs"]],null,[[null,"click"]],(function(e,t,n){var i=!0,o=e.component;return"click"===t&&(i=!1!==r.Bb(e,28).onClick()&&i),"click"===t&&(o.tabs[0]=!1,o.tabs[1]=!1,i=0!=(o.tabs[2]=!0)&&i),i}),null,null)),r.Eb(512,null,u.q,u.r,[r.q,r.r,r.k,r.B]),r.pb(26,278528,null,0,u.h,[u.q],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),r.Db(27,{isActive:0}),r.pb(28,16384,null,0,ke.l,[ke.k,ke.a,[8,null],r.B,r.k],{routerLink:[0,"routerLink"]},null),r.Cb(29,1),(e()(),r.qb(30,0,null,null,0,"img",[["alt",""],["class","img-logo"],["src","../../assets/images/notification-logo.png"]],null,null,null,null,null)),(e()(),r.qb(31,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),r.Hb(-1,null,["Notification"])),(e()(),r.qb(33,0,null,null,3,"div",[["class","menu"]],null,[[null,"click"]],(function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=0!=(i.showMenu=!i.showMenu)&&r),r}),null,null)),(e()(),r.qb(34,0,null,null,0,"img",[["alt",""],["class","dropdown-btn"],["src","../../assets/images/dots.png"]],null,null,null,null,null)),(e()(),r.fb(16777216,null,null,1,null,Pe)),r.pb(36,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null),(e()(),r.qb(37,0,null,null,2,"div",[["class","show-area"]],null,null,null,null,null)),(e()(),r.qb(38,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.pb(39,212992,null,0,ke.o,[ke.b,r.N,r.j,[8,null],r.h],null,null),(e()(),r.fb(16777216,null,null,1,null,Me)),r.pb(41,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.showProfileDialog);var r=e(t,9,0,n.tabs[0]);e(t,8,0,"tabs",r);var i=e(t,11,0,"/friends");e(t,10,0,i);var o=e(t,18,0,n.tabs[1]);e(t,17,0,"tabs",o);var a=e(t,20,0,"/friends/search");e(t,19,0,a);var s=e(t,27,0,n.tabs[2]);e(t,26,0,"tabs",s);var l=e(t,29,0,"/friends/notification");e(t,28,0,l),e(t,36,0,n.showMenu),e(t,39,0),e(t,41,0,n.showChatroom)}),null)}var Ee=r.mb("app-friends",Oe,(function(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"app-friends",[],null,null,null,Re,Se)),r.pb(1,114688,null,0,Oe,[ke.k,xe.a,b.a,he.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Ie=function(){function e(t,n,r,i){_classCallCheck(this,e),this._route=t,this._userService=n,this._chatService=r,this._socket=i,this.chatuser={_id:"",username:"",password:"",email:"",profilePicUrl:"",friends:null,requests:null}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.user=this._userService.getUser(),this.contacts=this.user.friends,this._socket.confirmNewFriendRequest.subscribe((function(t){e.contacts.find((function(e){return e._id==t._id}))||(e.contacts.unshift(t),e.user.friends=e.contacts,e._userService.setUser(e.user))})),this._socket.chatMessage.subscribe((function(t){t&&e.contacts.forEach((function(e){e._id==t.sender&&(e.new=!0)}))}))}},{key:"onClick",value:function(e){this.contacts.forEach((function(t){t._id==e._id&&delete t.new})),this.chatuser._id=e._id,this.chatuser.email=e.email,this.chatuser.username=e.username,this.chatuser.profilePicUrl=e.profilePicUrl,this._chatService.chatroomUser.emit(this.chatuser),this._chatService.setChatUser(this.chatuser),window.innerWidth<576&&this._route.navigate(["/chatroom"])}},{key:"openProfile",value:function(e){this._userService.setProfileUser(e),this._userService.showDialog.emit(!0)}}]),e}(),Te=r.ob({encapsulation:0,styles:[[".contactList[_ngcontent-%COMP%]{height:100%;overflow:scroll;overflow-x:hidden}.contact-collection[_ngcontent-%COMP%]{padding-top:0;margin:0;border:none}.contact-item[_ngcontent-%COMP%]{padding:.7rem 1rem;margin:0;cursor:pointer;display:flex;align-items:center;border-bottom:1px solid rgba(100,100,100,.5)}.contact-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#242a38}.contact-collection[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:2.8rem;height:2.8rem;border-radius:50%;position:relative}.contact-collection[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.8rem;height:2.8rem;border-radius:50%}.contact-collection[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]::before{content:'';position:absolute;width:100%;height:100%;top:0;left:0;z-index:9}.contactsName[_ngcontent-%COMP%]{font-size:1.1rem;margin:0;color:#fff}.content[_ngcontent-%COMP%]{padding-left:1rem}.new[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.2rem;width:1.2rem}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px transparent;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.8)}"]],data:{}});function ze(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"div",[["class","new"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,0,"img",[["alt",""],["src","../../../assets/images/new-message-1.png"]],null,null,null,null,null))],null,null)}function Ue(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,8,"li",[["class","contact-item"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.onClick(e.context.$implicit)&&r),r}),null,null)),(e()(),r.qb(1,0,null,null,1,"div",[["class","img"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.openProfile(e.context.$implicit)&&r),r}),null,null)),(e()(),r.qb(2,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4]],null,null,null,null)),(e()(),r.qb(3,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(e()(),r.qb(4,0,null,null,1,"p",[["class","contactsName"]],null,null,null,null,null)),(e()(),r.Hb(5,null,["",""])),(e()(),r.qb(6,0,null,null,0,"div",[["class","m-auto"]],null,null,null,null,null)),(e()(),r.fb(16777216,null,null,1,null,ze)),r.pb(8,16384,null,0,u.j,[r.N,r.J],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,8,0,t.context.$implicit.new)}),(function(e,t){e(t,2,0,r.ub(1,"",t.context.$implicit.profilePicUrl,"")),e(t,5,0,t.context.$implicit.username)}))}function qe(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,3,"div",[["class","contactList"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,2,"ul",[["class","contact-collection"]],null,null,null,null,null)),(e()(),r.fb(16777216,null,null,1,null,Ue)),r.pb(3,278528,null,0,u.i,[r.N,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,3,0,t.component.contacts)}),null)}var Be=r.mb("app-friends-list",Ie,(function(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"app-friends-list",[],null,null,null,qe,Te)),r.pb(1,114688,null,0,Ie,[ke.k,b.a,he.a,xe.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Ne=n("s7LF"),Le=function(){function e(t,n,r){_classCallCheck(this,e),this._userService=t,this._chatService=n,this._socket=r,this.searchText=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.user=this._userService.getUser()}},{key:"search",value:function(e){var t=this;e.preventDefault(),this.searchText.length>0?this._userService.searchUsers(this.searchText).subscribe((function(e){t.searchItems=e.filter((function(e){var n=e;return!t.user.friends.find((function(e){return e._id==n._id}))&&e._id!=t.user._id}))}),(function(e){})):this.searchItems=[]}},{key:"addFriend",value:function(e){var t=this;this._chatService.overlay.emit(!0),this._userService.addFriend({userId:this.user._id},e._id).subscribe((function(n){t._chatService.overlay.emit(!1),t.searchItems=t.searchItems.filter((function(t){return t._id!=e._id})),t._socket.notifyAddFriend(t.user,e)}),(function(e){t._chatService.overlay.emit(!1)}))}},{key:"showProfile",value:function(e){this._userService.setProfileUser(e),this._userService.showDialog.emit(!0)}}]),e}(),je=r.ob({encapsulation:0,styles:[[".searchContent[_ngcontent-%COMP%]{padding:0;margin:0;width:100%;height:100%}.input-div[_ngcontent-%COMP%]{padding:1rem .5rem;height:4rem;width:100%}.searchContent[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.4rem 1rem;margin:0;border-radius:25px;color:#fff;border:none;background-color:#495063}.btn[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:focus{outline:0}.searchContent[_ngcontent-%COMP%]   .searchList[_ngcontent-%COMP%]{height:calc(100% - 4rem);overflow:scroll;overflow-x:hidden}.searchContent[_ngcontent-%COMP%]   .search-collection[_ngcontent-%COMP%]{margin:0;border:none}.searchContent[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]{padding:.7rem 1rem;margin:0;cursor:pointer;display:flex;align-items:center;border-bottom:1px solid rgba(100,100,100,.5)}.searchContent[_ngcontent-%COMP%]   .search-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#242a38}.searchContent[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:2.8rem;height:2.8rem;border-radius:50%;position:relative}.searchContent[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]::before{content:'';position:absolute;width:100%;height:100%;top:0;left:0;z-index:9}.searchContent[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.8rem;height:2.8rem;border-radius:50%}.searchContent[_ngcontent-%COMP%]   .searchName[_ngcontent-%COMP%]{font-size:1.1rem;padding:.5rem 1rem;margin:0;color:#fff}.searchContent[_ngcontent-%COMP%]   .add-friend-btn[_ngcontent-%COMP%]{padding:.3rem 1rem;font-size:.8rem;color:#fff;background-image:linear-gradient(to right bottom,#f54b64,#f75b61,#f76960,#f77660,#f78361);border-radius:25px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px transparent;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.8)}"]],data:{}});function De(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,7,"li",[["class","search-item"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,1,"div",[["class","img"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showProfile(e.context.$implicit)&&r),r}),null,null)),(e()(),r.qb(2,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4]],null,null,null,null)),(e()(),r.qb(3,0,null,null,1,"p",[["class","searchName"]],null,null,null,null,null)),(e()(),r.Hb(4,null,["",""])),(e()(),r.qb(5,0,null,null,0,"div",[["class","m-auto"]],null,null,null,null,null)),(e()(),r.qb(6,0,null,null,1,"button",[["class","add-friend-btn btn"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.addFriend(e.context.$implicit)&&r),r}),null,null)),(e()(),r.Hb(-1,null,["Add Friend"]))],null,(function(e,t){e(t,2,0,r.ub(1,"",t.context.$implicit.profilePicUrl,"")),e(t,4,0,t.context.$implicit.username)}))}function Fe(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,11,"div",[["class","searchContent"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,6,"div",[["class","input-div"]],null,null,null,null,null)),(e()(),r.qb(2,0,null,null,5,"input",[["id","search"],["name","search"],["placeholder","Search"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var i=!0,o=e.component;return"input"===t&&(i=!1!==r.Bb(e,3)._handleInput(n.target.value)&&i),"blur"===t&&(i=!1!==r.Bb(e,3).onTouched()&&i),"compositionstart"===t&&(i=!1!==r.Bb(e,3)._compositionStart()&&i),"compositionend"===t&&(i=!1!==r.Bb(e,3)._compositionEnd(n.target.value)&&i),"ngModelChange"===t&&(i=!1!==(o.searchText=n)&&i),"keyup"===t&&(i=!1!==o.search(n)&&i),i}),null,null)),r.pb(3,16384,null,0,Ne.c,[r.B,r.k,[2,Ne.a]],null,null),r.Eb(1024,null,Ne.l,(function(e){return[e]}),[Ne.c]),r.pb(5,671744,null,0,Ne.p,[[8,null],[8,null],[8,null],[6,Ne.l]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r.Eb(2048,null,Ne.m,null,[Ne.p]),r.pb(7,16384,null,0,Ne.n,[[4,Ne.m]],null,null),(e()(),r.qb(8,0,null,null,3,"div",[["class","searchList"]],null,null,null,null,null)),(e()(),r.qb(9,0,null,null,2,"ul",[["class","search-collection"]],null,null,null,null,null)),(e()(),r.fb(16777216,null,null,1,null,De)),r.pb(11,278528,null,0,u.i,[r.N,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){var n=t.component;e(t,5,0,"search",n.searchText),e(t,11,0,n.searchItems)}),(function(e,t){e(t,2,0,r.Bb(t,7).ngClassUntouched,r.Bb(t,7).ngClassTouched,r.Bb(t,7).ngClassPristine,r.Bb(t,7).ngClassDirty,r.Bb(t,7).ngClassValid,r.Bb(t,7).ngClassInvalid,r.Bb(t,7).ngClassPending)}))}var We=r.mb("app-search",Le,(function(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"app-search",[],null,null,null,Fe,je)),r.pb(1,114688,null,0,Le,[b.a,he.a,xe.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),He=function(){function e(t,n,r){_classCallCheck(this,e),this._userService=t,this._chatService=n,this._socket=r}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.user=this._userService.getUser(),this.requests=this.user.requests,this._socket.newFriendRequest.subscribe((function(t){e.requests.find((function(e){return e._id==t._id}))||(e.requests.unshift(t),e.user.requests=e.requests,e._userService.setUser(e.user))}))}},{key:"confirmRequest",value:function(e){var t=this;this._chatService.overlay.emit(!0),this._userService.confirmRequest(this.user._id,{friendId:e._id}).subscribe((function(n){t._chatService.overlay.emit(!1),t.requests=t.requests.filter((function(t){return t._id!=e._id})),t.user.requests=t.requests,t.user.friends.unshift(e),t._userService.setUser(t.user),t._socket.confirmFriendRequest(t.user,e),console.log("send socket")}),(function(e){t._chatService.overlay.emit(!1)}))}},{key:"deleteRequest",value:function(e){var t=this;this._chatService.overlay.emit(!0),this._userService.deleteRequest(this.user._id,{friendId:e._id}).subscribe((function(n){t._chatService.overlay.emit(!1),t.requests=t.requests.filter((function(t){return t._id!=e._id})),t.user.requests=t.requests,t._userService.setUser(t.user)}),(function(e){t._chatService.overlay.emit(!1)}))}},{key:"showProfile",value:function(e){this._userService.setProfileUser(e),this._userService.showDialog.emit(!0)}}]),e}(),Ve=r.ob({encapsulation:0,styles:[[".notificationList[_ngcontent-%COMP%]{height:100%;width:100%;overflow:scroll;overflow-x:hidden}.notification-collection[_ngcontent-%COMP%]{padding:0;margin:0;border:none}.notification-item[_ngcontent-%COMP%]{padding:.7rem 1rem;margin:0;cursor:pointer;display:flex;align-items:center;border-bottom:1px solid rgba(100,100,100,.5)}.notification-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#242a38}.notification-item[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:2.8rem;height:2.8rem;border-radius:50%;position:relative}.notification-item[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]::before{content:'';position:absolute;width:100%;height:100%;top:0;left:0;z-index:9}.notification-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:2.8rem;height:2.8rem;border-radius:50%;z-index:-1}.notification-item[_ngcontent-%COMP%]   .notificationName[_ngcontent-%COMP%]{font-size:1.1rem;padding:.5rem 1rem;margin:0;color:#fff}.notification-item[_ngcontent-%COMP%]   .requests-btn[_ngcontent-%COMP%]{margin-right:1rem;padding:.3rem 1rem;color:#fff;background-image:linear-gradient(to right bottom,#f54b64,#f75b61,#f76960,#f77660,#f78361);border-radius:8px}.requests-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:1.2rem;width:1.2rem}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px transparent;border-radius:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.8)}"]],data:{}});function Qe(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,9,"li",[["class","notification-item"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,1,"div",[["class","img"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showProfile(e.context.$implicit)&&r),r}),null,null)),(e()(),r.qb(2,0,null,null,0,"img",[["class","img-fluid"]],[[8,"src",4]],null,null,null,null)),(e()(),r.qb(3,0,null,null,1,"p",[["class","notificationName"]],null,null,null,null,null)),(e()(),r.Hb(4,null,["",""])),(e()(),r.qb(5,0,null,null,0,"div",[["class","m-auto"]],null,null,null,null,null)),(e()(),r.qb(6,0,null,null,1,"button",[["class","requests-btn btn"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.confirmRequest(e.context.$implicit)&&r),r}),null,null)),(e()(),r.qb(7,0,null,null,0,"img",[["alt",""],["src","../../../assets/images/accept.png"]],null,null,null,null,null)),(e()(),r.qb(8,0,null,null,1,"button",[["class","requests-btn btn"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.deleteRequest(e.context.$implicit)&&r),r}),null,null)),(e()(),r.qb(9,0,null,null,0,"img",[["alt",""],["src","../../../assets/images/delete.png"]],null,null,null,null,null))],null,(function(e,t){e(t,2,0,r.ub(1,"",t.context.$implicit.profilePicUrl,"")),e(t,4,0,t.context.$implicit.username)}))}function Ge(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,3,"div",[["class","notificationList"]],null,null,null,null,null)),(e()(),r.qb(1,0,null,null,2,"ul",[["class","notification-collection"]],null,null,null,null,null)),(e()(),r.fb(16777216,null,null,1,null,Qe)),r.pb(3,278528,null,0,u.i,[r.N,r.J,r.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,3,0,t.component.requests)}),null)}var Xe=r.mb("app-notification",He,(function(e){return r.Ib(0,[(e()(),r.qb(0,0,null,null,1,"app-notification",[],null,null,null,Ge,Ve)),r.pb(1,114688,null,0,He,[b.a,he.a,xe.a],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Ye=n("wj3C"),Je=n.n(Ye),Ke=n("mrSG"),$e=n("S+S0"),Ze=function(){function e(e,t){this.code_=et(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return et(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}();function et(e){return"storage/"+e}function tt(){return new Ze("unknown","An unknown error occurred, please check the error payload for server response.")}function nt(){return new Ze("canceled","User canceled the upload/download.")}function rt(){return new Ze("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function it(){return new Ze("no-download-url","The given file does not have any download URLs.")}function ot(e,t,n){return new Ze("invalid-argument","Invalid argument in `"+t+"` at index "+e+": "+n)}function at(){return new Ze("app-deleted","The Firebase app was deleted.")}function st(e,t){return new Ze("invalid-format","String does not match format '"+e+"': "+t)}function lt(e){throw new Ze("internal-error","Internal error: "+e)}var ut={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function ct(e){switch(e){case ut.RAW:case ut.BASE64:case ut.BASE64URL:case ut.DATA_URL:return;default:throw"Expected one of the event types: ["+ut.RAW+", "+ut.BASE64+", "+ut.BASE64URL+", "+ut.DATA_URL+"]."}}var ht=function(e,t){this.data=e,this.contentType=t||null};function pt(e,t){switch(e){case ut.RAW:return new ht(ft(t));case ut.BASE64:case ut.BASE64URL:return new ht(dt(e,t));case ut.DATA_URL:return new ht((n=new gt(t)).base64?dt(ut.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw st(ut.DATA_URL,"Malformed data URL.")}return ft(t)}(n.rest),new gt(t).contentType)}var n;throw tt()}function ft(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){var i=r,o=e.charCodeAt(++n);t.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function dt(e,t){switch(e){case ut.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw st(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ut.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw st(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(u){throw st(e,"Invalid character found")}for(var s=new Uint8Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);return s}var gt=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw st(ut.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},mt={STATE_CHANGED:"state_changed"},vt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bt(e){switch(e){case"running":case"pausing":case"canceling":return vt.RUNNING;case"paused":return vt.PAUSED;case"success":return vt.SUCCESS;case"canceled":return vt.CANCELED;case"error":default:return vt.ERROR}}function _t(e){return null!=e}function yt(e){return void 0!==e}function wt(e){return"function"==typeof e}function Ct(e){return"object"==typeof e}function xt(e){return Ct(e)&&null!==e}function kt(e){return"string"==typeof e||e instanceof String}function Ot(e){return St(e)&&Number.isInteger(e)}function St(e){return"number"==typeof e||e instanceof Number}function At(e){return Pt()&&e instanceof Blob}function Pt(){return"undefined"!=typeof Blob}var Mt=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}({}),Rt=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Mt.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Mt.ABORT,t(e)})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Mt.NETWORK_ERROR,t(e)})),e.xhr_.addEventListener("load",(function(){t(e)}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw lt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),_t(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return _t(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw lt("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw lt("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw lt("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){_t(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){_t(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Et=function(){function e(){}return e.prototype.createXhrIo=function(){return new Rt},e}();function It(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Tt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=It();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Pt())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}var zt=function(){function e(e,t){var n=0,r="";At(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(At(this.data_)){var r=(o=t,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new e(r)}var i,o,a;return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Pt()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Tt.apply(null,r))}var i=t.map((function(e){return kt(e)?pt(ut.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}(),Ut=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(r){return new e(t,"")}if(""===n.path)return n;throw new Ze("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(e){e.path_=decodeURIComponent(e.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var l=a[s],u=l.regex.exec(t);if(u){var c=u[l.indices.path];c||(c=""),n=new e(u[l.indices.bucket],c),l.postModify(n);break}}if(null==n)throw function(e){return new Ze("invalid-url","Invalid URL '"+e+"'.")}(t);return n},e}();function qt(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return Ct(n=t)&&!Array.isArray(n)?t:null}function Bt(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}function Nt(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Lt(e){return"https://firebasestorage.googleapis.com/v0"+e}function jt(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}function Dt(e,t){return t}var Ft=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Dt},Wt=null;function Ht(e,t,n){var r=qt(t);return null===r?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=new Ut(e.bucket,e.fullPath);return t.makeStorageReference(n)}})}(r,e),r}(e,r,n)}function Vt(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Qt(e){if(!Ct(e)||!e)throw"Expected Metadata object.";for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];if("customMetadata"===t){if(!Ct(n))throw"Expected object for 'customMetadata' mapping."}else if(xt(n))throw"Mapping for '"+t+"' cannot be an object."}}function Gt(e){if(!Ct(e)||!e)throw"Expected ListOptions object.";for(var t in e)if("maxResults"===t){if(!Ot(e.maxResults)||e.maxResults<=0)throw"Expected maxResults to be a positive number.";if(e.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==t)throw"Unknown option: "+t;if(e.pageToken&&!kt(e.pageToken))throw"Expected pageToken to be string."}}var Xt=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Yt(e){if(!e)throw tt()}function Jt(e,t){return function(n,r){var i=Ht(e,r,t);return Yt(null!==i),i}}function Kt(e){return function(t,n){var r;return(r=401===t.getStatus()?new Ze("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new Ze("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new Ze("unauthorized","User does not have permission to access '"+e.path+"'."):n).setServerResponseProp(n.serverResponseProp()),r}}function $t(e){var t=Kt(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=new Ze("object-not-found","Object '"+e.path+"' does not exist.")),i.setServerResponseProp(r.serverResponseProp()),i}}function Zt(e,t,n){var r=Lt(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new Xt(r,"GET",Jt(e,n),i);return o.errorHandler=$t(t),o}function en(e,t,n,r,i){var o={};o.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Lt(t.bucketOnlyServerUrl()),s=e.maxOperationRetryTime(),l=new Xt(a,"GET",function(e,t){return function(n,r){var i=function(e,t,n){var r=qt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e.makeStorageReference(new Ut(t,a));r.prefixes.push(s)}if(n.items)for(var l=0,u=n.items;l<u.length;l++)s=e.makeStorageReference(new Ut(t,u[l].name)),r.items.push(s);return r}(e,t,r)}(e,t,r);return Yt(null!==i),i}}(e,t.bucket),s);return l.urlParams=o,l.errorHandler=Kt(t),l}function tn(e,t,n){var r=Lt(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new Xt(r,"GET",function(e,t){return function(n,r){var i=Ht(e,r,t);return Yt(null!==i),function(e,t){var n=qt(t);if(null===n)return null;if(!kt(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(t){var n=e.fullPath;return Lt("/b/"+i(e.bucket)+"/o/"+i(n))+jt({alt:"media",token:t})}))[0]}(i,r)}}(e,n),i);return o.errorHandler=$t(t),o}function nn(e,t,n,r){var i=Lt(t.fullServerUrl()),o=Vt(n,r),a=e.maxOperationRetryTime(),s=new Xt(i,"PATCH",Jt(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=$t(t),s}function rn(e,t){var n=Lt(t.fullServerUrl()),r=e.maxOperationRetryTime(),i=new Xt(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=$t(t),i}function on(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}var an=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function sn(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Yt(!1)}return Yt(!!n&&-1!==(t||["active"]).indexOf(n)),n}var ln=function(e,t,n){if(wt(e)||_t(t)||_t(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},un=function(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o};function cn(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}var a,s,l,u;if(!(r<=n.length&&n.length<=i))throw(a=r)===(s=i)?(l=a,u=1===a?"argument":"arguments"):(l="between "+a+" and "+s,u="arguments"),new Ze("invalid-argument-count","Invalid argument count in `"+e+"`: Expected "+l+" "+u+", received "+n.length+".");for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(c){throw c instanceof Error?ot(o,e,c.message):ot(o,e,c)}}var hn=function(e,t){var n=this;this.validator=function(t){n.optional&&!yt(t)||e(t)},this.optional=!!t};function pn(e,t){function n(e){if(!kt(e))throw"Expected string."}var r,i,o;return e?(i=n,o=e,r=function(e){i(e),o(e)}):r=n,new hn(r,t)}function fn(){return new hn((function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||Pt()&&e instanceof Blob))throw"Expected Blob or File."}))}function dn(e){return new hn(Qt,e)}function gn(e){return new hn(Gt,e)}function mn(){return new hn((function(e){if(!(St(e)&&e>=0))throw"Expected a number 0 or greater."}))}function vn(e,t){return new hn((function(t){if(!(null===t||_t(t)&&t instanceof Object))throw"Expected an Object.";null!=e&&e(t)}),t)}function bn(e){return new hn((function(e){if(null!==e&&!wt(e))throw"Expected a Function."}),e)}function _n(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var yn=function(){function e(e,t,n,r,i,o){var a=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_="running",this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals("canceled")?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_("error"))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals("canceled")?a.completeTransitions_():(a.error_=e,a.transition_("error"))},this.promise_=new Promise((function(e,t){a.resolve_=e,a.reject_=t,a.start_()})),this.promise_.then(null,(function(){}))}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n){return e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){"running"===this.state_&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then((function(n){switch(t.state_){case"running":e(n);break;case"canceling":t.transition_("canceled");break;case"pausing":t.transition_("paused")}}))},e.prototype.createResumable_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=on(t,r,i),s={name:a.fullPath},l=Lt(o),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},c=Vt(a,n),h=e.maxUploadRetryTime(),p=new Xt(l,"POST",(function(e){var t;sn(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Yt(!1)}return Yt(kt(t)),t}),h);return p.urlParams=s,p.headers=u,p.body=c,p.errorHandler=Kt(t),p}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_((function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime(),o=new Xt(n,"POST",(function(e){var t=sn(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Yt(!1)}n||Yt(!1);var i=Number(n);return Yt(!isNaN(i)),new an(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Kt(t),o}(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then((function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new an(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=function(e,t,n,r,i,o,a,s){var l=new an(0,0);if(a?(l.current=a.current,l.total=a.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw new Ze("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=l.total-l.current,c=u;i>0&&(c=Math.min(c,i));var h=l.current,p={"X-Goog-Upload-Command":c===u?"upload, finalize":"upload","X-Goog-Upload-Offset":l.current},f=r.slice(h,h+c);if(null===f)throw rt();var d=t.maxUploadRetryTime(),g=new Xt(n,"POST",(function(e,n){var i,a=sn(e,["active","final"]),s=l.current+c,u=r.size();return i="final"===a?Jt(t,o)(e,n):null,new an(s,u,"final"===a,i)}),d);return g.headers=p,g.body=f.uploadData(),g.progressCallback=s||null,g.errorHandler=Kt(e),g}(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(s){return e.error_=s,void e.transition_("error")}var a=e.authWrapper_.makeRequest(o,i);e.request_=a,a.getPromise().then((function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_("success")):e.completeTransitions_()}),e.errorHandler_)}))},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_((function(t){var n=Zt(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.transition_("success")}),e.metadataErrorHandler_)}))},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_((function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var l=on(t,r,i),u=Vt(l,n),c=zt.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+s+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===c)throw rt();var h={name:l.fullPath},p=Lt(o),f=e.maxUploadRetryTime(),d=new Xt(p,"POST",Jt(e,n),f);return d.urlParams=h,d.headers=a,d.body=c.uploadData(),d.errorHandler=Kt(t),d}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then((function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_("success")}),e.errorHandler_)}))},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case"canceling":case"pausing":this.state_=e,null!==this.request_&&this.request_.cancel();break;case"running":var t="paused"===this.state_;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case"paused":this.state_=e,this.notifyObservers_();break;case"canceled":this.error_=nt(),this.state_=e,this.notifyObservers_();break;case"error":case"success":this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case"pausing":this.transition_("paused");break;case"canceling":this.transition_("canceled");break;case"running":this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=bt(this.state_);return new un(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){function i(){if(e!==mt.STATE_CHANGED)throw"Expected one of the event types: ["+mt.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=bn(!0).validator,s=vn(null,!0).validator;function l(e){try{return void a(e)}catch(t){}try{if(s(e),!(yt(e.next)||yt(e.error)||yt(e.complete)))throw"";return}catch(t){throw o}}var u=[pn(i),vn(l,!0),bn(!0),bn(!0)];cn("on",u,arguments);var c=this;function h(e){return function(t,n,i){null!==e&&cn("on",e,arguments);var o=new ln(t,n,r);return c.addObserver_(o),function(){c.removeObserver_(o)}}}function p(e){if(null===e)throw o;l(e)}var f=[vn(p),bn(!0),bn(!0)],d=!(yt(t)||yt(n)||yt(r));return d?h(f):h(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){var t=this.observers_.indexOf(e);-1!==t&&this.observers_.splice(t,1)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),this.observers_.slice().forEach((function(t){e.notifyObserver_(t)}))},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(bt(this.state_)){case vt.SUCCESS:_n(this.resolve_.bind(null,this.snapshot))();break;case vt.CANCELED:case vt.ERROR:_n(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(bt(this.state_)){case vt.RUNNING:case vt.PAUSED:e.next&&_n(e.next.bind(e,this.snapshot))();break;case vt.SUCCESS:e.complete&&_n(e.complete.bind(e))();break;case vt.CANCELED:case vt.ERROR:e.error&&_n(e.error.bind(e,this.error_))();break;default:e.error&&_n(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){cn("resume",[],arguments);var e="paused"===this.state_||"pausing"===this.state_;return e&&this.transition_("running"),e},e.prototype.pause=function(){cn("pause",[],arguments);var e="running"===this.state_;return e&&this.transition_("pausing"),e},e.prototype.cancel=function(){cn("cancel",[],arguments);var e="running"===this.state_||"pausing"===this.state_;return e&&this.transition_("canceling"),e},e}(),wn=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof Ut?t:Ut.makeFromUrl(t)}return e.prototype.toString=function(){return cn("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return function(){if(Wt)return Wt;var e=[];e.push(new Ft("bucket")),e.push(new Ft("generation")),e.push(new Ft("metageneration")),e.push(new Ft("name","fullPath",!0));var t=new Ft("name");t.xform=function(e,t){return function(e){return!kt(e)||e.length<2?e:Nt(e)}(t)},e.push(t);var n=new Ft("size");return n.xform=function(e,t){return _t(t)?Number(t):t},e.push(n),e.push(new Ft("timeCreated")),e.push(new Ft("updated")),e.push(new Ft("md5Hash",null,!0)),e.push(new Ft("cacheControl",null,!0)),e.push(new Ft("contentDisposition",null,!0)),e.push(new Ft("contentEncoding",null,!0)),e.push(new Ft("contentLanguage",null,!0)),e.push(new Ft("contentType",null,!0)),e.push(new Ft("metadata","customMetadata",!0)),Wt=e}()},e.prototype.child=function(e){cn("child",[pn()],arguments);var t=Bt(this.location.path,e),n=new Ut(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new Ut(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new Ut(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Nt(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),cn("put",[fn(),dn(!0)],arguments),this.throwIfRoot_("put"),new yn(this,this.authWrapper,this.location,this.mappings(),new zt(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=ut.RAW),cn("putString",[pn(),pn(ct,!0),dn(!0)],arguments),this.throwIfRoot_("putString");var r=pt(t,e),i=Object.assign({},n);return!_t(i.contentType)&&_t(r.contentType)&&(i.contentType=r.contentType),new yn(this,this.authWrapper,this.location,this.mappings(),new zt(r.data,!0),i)},e.prototype.delete=function(){var e=this;return cn("delete",[],arguments),this.throwIfRoot_("delete"),this.authWrapper.getAuthToken().then((function(t){var n=rn(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.listAll=function(){cn("listAll",[],arguments);var e={prefixes:[],items:[]};return this.listAllHelper(e).then((function(){return e}))},e.prototype.listAllHelper=function(e,t){return Object(Ke.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(Ke.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.list({pageToken:t})];case 1:return n=o.sent(),(r=e.prefixes).push.apply(r,n.prefixes),(i=e.items).push.apply(i,n.items),null==n.nextPageToken?[3,3]:[4,this.listAllHelper(e,n.nextPageToken)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},e.prototype.list=function(e){cn("list",[gn(!0)],arguments);var t=this;return this.authWrapper.getAuthToken().then((function(n){var r=e||{},i=en(t.authWrapper,t.location,"/",r.pageToken,r.maxResults);return t.authWrapper.makeRequest(i,n).getPromise()}))},e.prototype.getMetadata=function(){var e=this;return cn("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.authWrapper.getAuthToken().then((function(t){var n=Zt(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()}))},e.prototype.updateMetadata=function(e){var t=this;return cn("updateMetadata",[dn()],arguments),this.throwIfRoot_("updateMetadata"),this.authWrapper.getAuthToken().then((function(n){var r=nn(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()}))},e.prototype.getDownloadURL=function(){var e=this;return cn("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.authWrapper.getAuthToken().then((function(t){var n=tn(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then((function(e){if(null===e)throw it();return e}))}))},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new Ze("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),Cn=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}(),xn=function(){function e(){this.map=new Map,this.id=-9007199254740991}return e.prototype.addRequest=function(e){var t=this,n=this.id;this.id++,this.map.set(n,e),e.getPromise().then((function(){return t.map.delete(n)}),(function(){return t.map.delete(n)}))},e.prototype.clear=function(){this.map.forEach((function(e){e&&e.cancel(!0)})),this.map.clear()},e}(),kn=function(){function e(t,n,r,i,o,a){var s;if(this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var l=this.app_.options;_t(l)&&(this.bucket_=e.extractBucket_(l),this.appId_=null!==(s=l.appId)&&void 0!==s?s:null)}this.authProvider_=n,this.storageRefMaker_=r,this.requestMaker_=i,this.pool_=a,this.service_=o,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requestMap_=new xn}return e.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:Ut.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){var e=this.authProvider_.getImmediate({optional:!0});return e?e.getToken().then((function(e){return null!==e?e.accessToken:null}),(function(){return null})):Promise.resolve(null)},e.prototype.bucket=function(){if(this.deleted_)throw at();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new Cn(at());var n=this.requestMaker_(e,this.appId_,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}(),On=function(){function e(e,t,n,r,i,o,a,s,l,u,c){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=u,this.timeout_=l,this.pool_=c,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());yt(s)?i(s):i()}catch(l){o(l)}else null!==a?((r=tt()).setServerResponseProp(a.getResponseText()),o(e.errorCallback_?e.errorCallback_(a,r):r)):o(r=n.canceled?e.appDelete_?at():nt():new Ze("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Sn(!1,null,!0)):this.backoffId_=function(t,n,r){var i=1,o=null,a=!1,s=0;function l(){return 2===s}var u=!1;function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];u||(u=!0,n.apply(null,e))}function h(t){o=setTimeout((function(){o=null,function(t,n){if(n)t(!1,new Sn(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===Mt.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Sn(a,n))}else{var s=n.getErrorCode()===Mt.ABORT;t(!1,new Sn(!1,null,s))}}))}function i(t){null!==e.progressCallback_&&e.progressCallback_(t.loaded,t.lengthComputable?t.total:-1)}}(p,l())}),t)}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,Object(Ke.__spreadArrays)([null,e],t));else{var r,o=l()||a;o?c.call.apply(c,Object(Ke.__spreadArrays)([null,e],t)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function d(e){f||(f=!0,u||(null!==o?(e||(s=2),clearTimeout(o),h(0)):e||(s=1)))}return h(0),setTimeout((function(){a=!0,d(!0)}),r),d}(0,t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Sn=function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n};function An(e,t,n,r){var i=jt(e.urlParams),o=e.url+i,a=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(a,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(a,n),function(e){e["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Je.a?Je.a.SDK_VERSION:"AppManager")}(a),new On(o,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r)}var Pn,Mn,Rn=function(){function e(e,t,n,r){if(this.bucket_=null,this.authWrapper_=new kn(e,t,(function(e,t){return new wn(e,t)}),An,this,n),this.app_=e,null!=r)this.bucket_=Ut.makeFromBucketSpec(r);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new Ut(i,""))}this.internals_=new En(this)}return e.prototype.ref=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."}if(cn("ref",[pn(t,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new wn(this.authWrapper_,this.bucket_);return null!=e?n.child(e):n},e.prototype.refFromURL=function(e){function t(e){if("string"!=typeof e)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{Ut.makeFromUrl(e)}catch(t){throw"Expected valid full URL but got an invalid one."}}return cn("refFromURL",[pn(t,!1)],arguments),new wn(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){cn("setMaxUploadRetryTime",[mn()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},e.prototype.setMaxOperationRetryTime=function(e){cn("setMaxOperationRetryTime",[mn()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),En=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),Promise.resolve()},e}();Mn={TaskState:vt,TaskEvent:mt,StringFormat:ut,Storage:Rn,Reference:wn},(Pn=Je.a).INTERNAL.registerComponent(new $e.Component("storage",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return new Rn(n,r,new Et,t)}),"PUBLIC").setServiceProps(Mn).setMultipleInstances(!0)),Pn.registerVersion("@firebase/storage","0.3.34");var In=function e(){_classCallCheck(this,e)},Tn={animation:"Friendslist"},zn={animation:"Search"},Un={animation:"Notification"},qn=function e(){_classCallCheck(this,e)},Bn=n("MYbz"),Nn=n("Um7L");n.d(t,"FriendsModuleNgFactory",(function(){return Ln}));var Ln=r.nb(i,[],(function(e){return r.zb([r.Ab(512,r.j,r.Y,[[8,[o.a,Ee,Be,We,Xe,we.a,ye]],[3,r.j],r.v]),r.Ab(4608,u.l,u.k,[r.s,[2,u.t]]),r.Ab(4608,Ne.u,Ne.u,[]),r.Ab(5120,oe,se,[te,r.x,[2,ne]]),r.Ab(4608,ce,ce,[te,[2,ne],[2,ue],r.z,r.x]),r.Ab(1073742336,u.b,u.b,[]),r.Ab(1073742336,ke.n,ke.n,[[2,ke.s],[2,ke.k]]),r.Ab(1073742336,qn,qn,[]),r.Ab(1073742336,Ne.t,Ne.t,[]),r.Ab(1073742336,Ne.i,Ne.i,[]),r.Ab(1073742336,Bn.a,Bn.a,[]),r.Ab(1073742336,Nn.a,Nn.a,[]),r.Ab(1073742336,l,l,[]),r.Ab(1073742336,le,le,[r.z]),r.Ab(1073742336,In,In,[]),r.Ab(1073742336,i,i,[]),r.Ab(1024,ke.i,(function(){return[[{path:"",component:Oe,children:[{path:"",component:Ie,data:Tn},{path:"search",component:Le,data:zn},{path:"notification",component:He,data:Un}]}],[{path:"",component:Ce.a}]]}),[]),r.Ab(256,te,{apiKey:"AIzaSyBeQz5BeR5EY9g6wKYouxPp4OUArdAjPG8",authDomain:"chatapp-9fa60.firebaseapp.com",databaseURL:"https://chatapp-9fa60.firebaseio.com",projectId:"chatapp-9fa60",storageBucket:"chatapp-9fa60.appspot.com",messagingSenderId:"1014475100914",appId:"1:1014475100914:web:e2f8ec434edcf6ea05b66b"},[]),r.Ab(256,ne,void 0,[])])}))},"S+S0":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e="[DEFAULT]");var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:"[DEFAULT]",optional:!1},e),n=t.optional,i=this.normalizeInstanceIdentifier(t.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService("[DEFAULT]")}catch(c){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),s=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService(l);s.resolve(u)}catch(c){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e="[DEFAULT]"),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return"[DEFAULT]"===e?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:"[DEFAULT]":e},e}(),s=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=o,t.ComponentContainer=s,t.Provider=a},Wcq6:function(e,t,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.14.6","app"),e.exports=i},mrSG:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return l})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return c})),n.d(t,"__generator",(function(){return h})),n.d(t,"__exportStar",(function(){return p})),n.d(t,"__values",(function(){return f})),n.d(t,"__read",(function(){return d})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return m})),n.d(t,"__await",(function(){return v})),n.d(t,"__asyncGenerator",(function(){return b})),n.d(t,"__asyncDelegator",(function(){return _})),n.d(t,"__asyncValues",(function(){return y})),n.d(t,"__makeTemplateObject",(function(){return w})),n.d(t,"__importStar",(function(){return C})),n.d(t,"__importDefault",(function(){return x})),n.d(t,"__classPrivateFieldGet",(function(){return k})),n.d(t,"__classPrivateFieldSet",(function(){return O}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function l(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function p(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function f(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function v(e){return this instanceof v?(this.v=e,this):new v(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof v?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:v(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function x(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function O(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},"q/0M":function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return a})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return p})),n.d(t,"setUserLogHandler",(function(){return f}));var o=[],a=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},l=a.INFO,u=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),c=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=u[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],e)),this._logHandler.apply(this,r([this,a.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],e)),this._logHandler.apply(this,r([this,a.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],e)),this._logHandler.apply(this,r([this,a.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],e)),this._logHandler.apply(this,r([this,a.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],e)),this._logHandler.apply(this,r([this,a.ERROR],e))},e}();function p(e){var t="string"==typeof e?s[e]:e;o.forEach((function(e){e.logLevel=t}))}function f(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},wj3C:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n("mrSG"),a=n("zVF4"),s=n("S+S0"),l=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new a.ErrorFactory("app","Firebase",u),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new l.Logger("@firebase/app"),f=function(){function e(e,t,n){var r,i,l=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return l}),"PUBLIC"));try{for(var u=o.__values(this.firebase_.INTERNAL.components.values()),c=u.next();!c.done;c=u.next())this._addComponent(c.value)}catch(h){r={error:h}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t="[DEFAULT]"),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},e}();f.prototype.name&&f.prototype.options||f.prototype.delete||console.log("dc");var d=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw c.create("bad-app-name",{appName:String(s)});if(a.contains(t,s))throw c.create("duplicate-app",{appName:s});var l=new e(n,o,r);return t[s]=l,l},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var l=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&l.push("and"),a&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}u(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:l.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw c.create("invalid-log-argument",{appName:name});l.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.14.5",INTERNAL:{registerComponent:u,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(!a.contains(t,e=e||"[DEFAULT]"))throw c.create("no-app",{appName:e});return t[e]}function u(s){var l,u,h=s.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[h])throw c.create("invalid-app-argument",{appName:h});return e[h]()};void 0!==s.serviceProps&&a.deepExtend(f,s.serviceProps),r[h]=f,e.prototype[h]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,h);return n.apply(this,s.multipleInstances?e:[])}}try{for(var d=o.__values(Object.keys(t)),g=d.next();!g.done;g=d.next())t[g.value]._addComponent(s)}catch(m){l={error:m}}finally{try{g&&!g.done&&(u=d.return)&&u.call(d)}finally{if(l)throw l.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(f);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){a.deepExtend(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(a.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=d.initializeApp;d.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),v.apply(void 0,e)};var b=d;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion("@firebase/app","0.6.4",void 0),e.registerVersion("fire-js","")}(b),t.default=b,t.firebase=b},zVF4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=(15&s)<<2|u>>6,h=63&u;l||(h=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,l=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==l)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==l&&r.push(s<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},u=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=c(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var f=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,d.prototype.create),i}return r.__extends(t,e),t}(Error),d=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",l=new f(i,s),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=r[h])}return l},e}();function g(e,t){return e.replace(m,(function(e,n){var r=t[n];return null!=r?r.toString():"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function v(e){return JSON.parse(e)}var b=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=v(u(o[0])||""),n=v(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},_=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^s&(l^u),o=1518500249):(i=s^l^u,o=1859775393):r<60?(i=s&l|u&(s|l),o=2400959708):(i=s^l^u,o=3395469782);var h=(a<<5|a>>>27)+i+c+o+n[r]&4294967295;c=u,u=l,l=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}(),y=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=w),void 0===r.error&&(r.error=w),void 0===r.complete&&(r.complete=w);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function w(){}function C(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+r+" argument "}t.CONSTANTS=i,t.Deferred=h,t.ErrorFactory=d,t.FirebaseError=f,t.Sha1=_,t.assert=o,t.assertionError=a,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}},t.base64=l,t.base64Decode=u,t.base64Encode=function(e){var t=s(e);return l.encodeByteArray(t,!0)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createSubscribe=function(e,t){var n=new y(e,t);return n.subscribe.bind(n)},t.decode=b,t.deepCopy=function(e){return c(void 0,e)},t.deepExtend=c,t.errorPrefix=C,t.getUA=p,t.isAdmin=function(e){var t=b(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"object"==typeof self&&self.self===self},t.isBrowserExtension=function(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return p().indexOf("Electron/")>=0},t.isEmpty=function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){var e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())},t.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isUWP=function(){return p().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){var t=b(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t=b(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.issuedAtTime=function(e){var t=b(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=v,t.map=function(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.querystring=function(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(e,t,r)+"must be a valid firebase namespace.")}}}]);